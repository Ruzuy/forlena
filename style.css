:root{
    --card-bg: rgba(255,255,255,.90);
    --shadow: 0 16px 40px rgba(0,0,0,.22);
    --shadow-soft: 0 10px 22px rgba(0,0,0,.18);
    --radius: 20px;

    --text: #1b1b1b;
    --muted: rgba(0,0,0,.55);

    --blur: 10px;

    /* Финальный розовый */
    --pink: #ff5aa5;
}

*{ box-sizing: border-box; }
html, body { height: 100%; }

body{
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: var(--text);

    background-image: url("./assets/bg.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    min-height: 100dvh;
    overflow-x: hidden;
}

.valentine{
    min-height: 100dvh;
    padding: max(16px, env(safe-area-inset-top)) 16px max(16px, env(safe-area-inset-bottom));
    display: grid;
    place-items: center;
    position: relative;

    background:
            radial-gradient(800px 600px at 20% 10%, rgba(255,255,255,.25), transparent 70%),
            radial-gradient(700px 500px at 80% 90%, rgba(255,255,255,.18), transparent 70%),
            rgba(0,0,0,.24);
}

/* Card */
.cardish{
    width: min(540px, 100%);
    background: var(--card-bg);
    border-radius: var(--radius);
    padding: 18px 18px 22px;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;

    backdrop-filter: blur(var(--blur));
    -webkit-backdrop-filter: blur(var(--blur));
}

.cardish::before{
    content:"";
    position:absolute;
    inset:-2px;
    background: radial-gradient(520px 240px at 30% 10%, rgba(255, 182, 193, .35), transparent 60%);
    pointer-events:none;
}

.question{
    margin: 0 0 14px;
    text-align: center;
    font-weight: 900;
    letter-spacing: -0.02em;
    font-size: clamp(20px, 4.2vw, 30px);
    text-transform: lowercase;
}

/* Image */
.image-wrap{
    display: grid;
    place-items: center;
    margin-bottom: 10px;
}

.center-image{
    width: min(320px, 86%);
    height: auto;
    border-radius: 18px;
    box-shadow: var(--shadow-soft);
    user-select: none;
    -webkit-user-drag: none;
}

/* --- Run area (buttons + final text) --- */
.run-area{
    position: relative;
    width: 100%;
    height: 150px;           /* место для кнопок и финала */
    margin-top: 6px;
}

/* Bootstrap btn rounding */
.btn{ border-radius: 999px !important; }

/* Buttons row: ровное расположение */
.yes-btn{
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    font-weight: 900;
    font-size: 18px;
    padding: 12px 28px;
    box-shadow: 0 10px 20px rgba(25,135,84,.25);
    transform-origin: center;
    transition: transform 180ms ease, filter 180ms ease;
    z-index: 2;
}

/* Красная стартует справа от зелёной на одной линии */
.no-btn{
    position: absolute;
    left: calc(50% + 110px);
    top: 50%;
    transform: translate(-50%, -50%);
    font-weight: 900;
    font-size: 16px;
    padding: 10px 22px;
    z-index: 3;
    transition: left 220ms ease, top 220ms ease, opacity 240ms ease, transform 180ms ease;
}

.no-btn.shake{
    animation: shake 240ms ease;
}

@keyframes shake{
    0%{ transform: translate(-50%, -50%) translateX(0); }
    25%{ transform: translate(-50%, -50%) translateX(-5px); }
    50%{ transform: translate(-50%, -50%) translateX(5px); }
    75%{ transform: translate(-50%, -50%) translateX(-3px); }
    100%{ transform: translate(-50%, -50%) translateX(0); }
}

/* Финальный текст — по центру и выше, розовый */
.final-text{
    position: absolute;
    left: 50%;
    top: 44%;                 /* подняли выше, чтобы было по центру */
    transform: translate(-50%, -50%);
    text-align: center;
    font-weight: 1000;
    letter-spacing: -0.02em;
    font-size: clamp(22px, 5vw, 36px);
    color: var(--pink);
    min-height: 46px;
    width: 100%;
    padding: 0 10px;
    z-index: 1;
    opacity: 0;               /* появится анимацией */
}

/* Animations */
.fade-pop{
    animation: fadePop 420ms ease forwards;
}

@keyframes fadePop{
    0% { opacity: 0; transform: translate(-50%, -50%) translateY(8px) scale(.98); }
    100%{ opacity: 1; transform: translate(-50%, -50%) translateY(0) scale(1); }
}

.yes-disappear{
    animation: yesVanish 560ms cubic-bezier(.2,.9,.2,1) forwards;
}

@keyframes yesVanish{
    0%   { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    50%  { transform: translate(-50%, -50%) scale(1.25); opacity: .35; }
    100% { transform: translate(-50%, -50%) scale(.88); opacity: 0; }
}

/* Pulse (optional, nice) */
.yes-btn.pulse{
    animation: yesPulse 1.4s ease-in-out infinite;
}

@keyframes yesPulse{
    0%, 100% { filter: brightness(1); }
    50%      { filter: brightness(1.06); }
}

/* Mobile */
@media (max-width: 420px){
    .run-area{ height: 170px; }
    .yes-btn{ font-size: 17px; padding: 12px 24px; }

    /* на маленьких экранах делаем меньше смещение вправо */
    .no-btn{
        font-size: 15px;
        padding: 10px 18px;
        left: calc(50% + 96px);
    }

    .final-text{
        top: 46%;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
    .yes-btn.pulse, .fade-pop, .yes-disappear, .shake{
        animation: none !important;
        transition: none !important;
    }
}
